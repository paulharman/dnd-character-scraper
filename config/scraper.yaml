# ===================================================================
# SCRAPER MODULE CONFIGURATION
# ===================================================================
# This file configures the D&D Beyond API scraping module, including
# API settings, rate limiting, and calculation constants.
# ===================================================================

# ===================================================================
# D&D BEYOND API CONFIGURATION
# ===================================================================
# Settings for connecting to and interacting with the D&D Beyond character API
api:
  base_url: "https://character-service.dndbeyond.com/character/v5/character/"  # D&D Beyond character API endpoint
  user_agent: "DnDBeyond-Enhanced-Scraper/6.0.0"                             # User agent string for API requests
  timeout: 30                                                                 # Request timeout in seconds
  max_retries: 3                                                              # Maximum retry attempts for failed requests
  retry_delay: 30                                                             # Delay between retry attempts (seconds)

# ===================================================================
# AUTHENTICATION (OPTIONAL)
# ===================================================================
# Cobalt session token for accessing private D&D Beyond characters.
# Without this, only public characters can be scraped.
# Get from browser DevTools: Network tab → any request to
# character-service.dndbeyond.com → Cookie header → cobalt-session value.
# Can also be set via DNDBEYOND_COBALT_TOKEN environment variable or .env file.
authentication:
  cobalt_token: ""

# ===================================================================
# RATE LIMITING CONFIGURATION
# ===================================================================
# Delay between consecutive API requests to D&D Beyond
rate_limit:
  delay_between_requests: 1                                                   # Delay between API requests (seconds)

# ===================================================================
# OUTPUT CONFIGURATION
# ===================================================================
# Settings for scraper output and data storage
output:
  include_raw_data: true                                                      # Automatically save raw API responses to character_data/scraper/raw/

# ===================================================================
# DATA RETENTION
# ===================================================================
# Controls how many output files are kept per character.
# Set to 0 to disable cleanup (keep all files).
# Retention is configured centrally in config/discord.yaml under the
# snapshots: section (max_scraper_files_per_character, max_raw_files_per_character).

# ===================================================================
# CALCULATION CONSTANTS
# ===================================================================
# Fixed values used in character stat calculations
calculations:
  spell_save_dc_base: 8                                                       # Base value for spell save DC calculations (8 + proficiency + ability modifier)