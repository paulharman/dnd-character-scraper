# Default Configuration for D&D Beyond Character Scraper
# This file contains the default settings that apply across all environments

# Project metadata
project:
  name: "DnD Beyond Character Scraper" 
  version: "6.0.0"
  description: "Enhanced D&D Beyond character scraper with 2024 rules support"

# API Configuration
api:
  base_url: "https://character-service.dndbeyond.com/character/v5/character/"
  user_agent: "DnDBeyond-Enhanced-Scraper/6.0.0"
  timeout: 30
  max_retries: 3
  retry_delay: 2.0
  
  # HTTP Headers
  headers:
    accept: "application/json"
    accept_language: "en-US,en;q=0.9"
  
  # Retry Configuration
  retry:
    status_codes: [429, 500, 502, 503, 504]
    allowed_methods: ["HEAD", "GET", "OPTIONS"]
    backoff_factor: 1
    total_attempts: 3
    
  # Request timing
  jitter:
    min: 0.1
    max: 0.5

# Output Settings
output:
  verbose: false
  include_raw_data: false
  format: "json"
  clean_html: true   # Strip HTML tags from text fields (descriptions, etc.)

# File Paths
paths:
  scraper: "scraper/enhanced_dnd_scraper.py"
  spells_folder: "obsidian/spells"
  data_folder: "data"
  character_data: "character_data"
  baseline: "data/baseline"
  parser_config: "config/parser.yaml"

# Calculation Constants
calculations:
  spell_save_dc_base: 8
  exponential_backoff_base: 2
  default_character_size: 3
  default_size_name: "Medium"

# Discord Notifications
discord:
  enabled: false           # Enable automatic Discord notifications via monitor script
  webhook_url: null
  username: "D&D Beyond Scraper"
  avatar_url: null
  format_type: "detailed"
  notify_on_save: true
  create_snapshots: true  # Always create Discord-compatible snapshots for future comparison
  config_file: "discord/discord_config.yml"
  min_priority: "LOW"
  
  # Change type filtering - remove types you don't want to monitor
  change_types:
    - "level"
    - "experience"
    - "hit_points"
    - "armor_class"
    - "ability_scores"
    - "spells_known"
    - "spell_slots"
    - "inventory_items"
    - "equipment"
    - "currency"
    - "skills"
    - "proficiencies"
    - "feats"
    - "class_features"
    - "appearance"
    - "background"

# Environment-specific overrides
environments:
  development:
    config_file: "config/environments/development.yaml"
  testing:
    config_file: "config/environments/testing.yaml"
  production:
    config_file: "config/environments/production.yaml"